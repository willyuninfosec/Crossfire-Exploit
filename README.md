# Crossfire-Exploit
This tutorial will walk you through how to create a buffer overflow in the Crossfire game
similar to how is shown in the OSCP manual.  The difference? We will be using a different
set of tools in one example and in another example we will be preforming a return to lib-c
for the exploit.

## The Set Up
For this tutorial I will be using the 32-bit version of Kali Linux which will have most of
the tools that will be needed for this exploit.

### Crossfire v1.9.0
I will be using Version 1.9.0 of Crossfire.  It is crutial that you use this version of
Crossfire when following this tutorial to ensure that the program is exploitable.  You can 
get a copy of this version
[here](https://www.exploit-db.com/apps/43240af83a4414d2dcc19fff3af31a63-crossfire-1.9.0.tar.gz.).
The md5sum of the software is in file name `43240af83a4414d2dcc19fff3af31a63`.  
Once you have confirmed your download, move the file to where you want to untar the file
and run the command `tar -xzvf 43240af83a4414d2dcc19fff3af31a63-crossfire-1.9.0.tar.gz`.
In the directory that was created when you untared the file will be a file `INSTALL` you
need to read inorder to figure out how to compile the program.
Now that you have the program installed you can run `PATH/crossfire -v` to double check
the version number.

### GDB
The version of GDB doesn't really matter. You can install `gdb` by following the
instructions [here](http://www.gdbtutorial.com/tutorial/how-install-gdb).

### ldd
ldd will most likly already be installed on your linux system.  If it is not, you can
install it by running:
```bash
sudo apt update
sudo apt install libc-bin
```

### r2 (REDARE2)
REDARE2 will need to be downloaded and installed unless you are using a Kali as your OS.
It can be found [here](https://github.com/radare/radare2)

### Peda gdb-extension.
Peda is an extension for GDB built on Python that makes GDB a little easier to read and
follow.  It adds a couple of other features as well.  It can be found
[here](https://github.com/longld/peda)

### Secure your device
You will be running an exploitable program on your system, so it's best to to set rulles in
 your `iptables` such that nothing other then your exploit code can access the Crossfire
app.  Or you can just blanket your system and only allow Crossfire and your exploit to
talk to each other.
```
iptables -A INPUT -p tcp --destination-port 13327 \! -d 127.0.0.1 -j DROP
iptables -A INPUT -p tcp --destination-port 4444 \! -d 127.0.0.1 -j DROP
```
When you are done you can undo this with the commands
```
iptables -D INPUT -p tcp --destination-port 13327 \! -d 127.0.0.1 -j DROP
iptables -D INPUT -p tcp --destination-port 4444 \! -d 127.0.0.1 -j DROP
```

## Starting the Exploit
We will be writing the expliot in python but you can use what ever language you prefer.  A
skelaton script is provide in this repo [here]().  Lets look at it.
```py

